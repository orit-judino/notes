---
больничный: false
ФормаНаправления: Формы направлений
Стационар: Направляющие стационары
Источник: Источники госпитализации
фио: Матасов Евгений Анатольевич
датаРождения: 2025-12-30
epicris: "[[Матасов.pdf#page=1|Матасов, страница 1]]"
ОД_мкб: "[[Справочники/Заболевания/Основные заболевания/I69.3 Последствия инфаркта головного мозга.md|I69.3 Последствия инфаркта головного мозга]]"
ОД_бассейн: СМА
ОД_парезРука_05: 1
ОД_парезНога_05: 1
ОД_нгз: false
ОД_трахеостома: false
родственник: Отец Иван
ОД_бульбарный_03: 0
ОД_афазия: моторная
ОД_афазия_03: 1
ОД_дизартрия_03: 0
spastika_pwr: 1
result: "I69.3 ЦВБ. Последствия инфаркта головного мозга от 06.01.2026 в левой СМА, тип по TOAST: неустановленный. Гемипарез: глубокий парез - 1 б. справа, афазия: моторная, умеренная, спастичность: умеренная."
ОД_дата: 2026-01-06
ОД_спастика_03: 1
ОД_сторонаИнсульта: слева
ОД_инсульт_подтип: неустановленный
---

```meta-bind-button
label: Создать карточку пациента
icon: ""
style: default
class: ""
cssStyle: ""
backgroundImage: ""
tooltip: ""
id: ""
hidden: false
action:
  type: command
  command: orit-plugin:new-Patient-Card
```
---
Эпикриз в PDF:`INPUT[text:epicris]`
источник запроса: `INPUT[suggester(optionQuery("Справочники/Источники госпитализации"), useLinks(false), showcase):источник]`
дата запроса:`INPUT[date(showcase):датаЗапроса]`
Стационар: `INPUT[suggester(optionQuery("Справочники/Направляющие стационары"), useLinks(false), showcase):стационар]`
Форма направления: `INPUT[suggester(optionQuery("Справочники/Формы направлений"), useLinks(false), showcase):формаНаправления]`

## Сведения о пациенте и статусе на момент выписки
**ФИО**`INPUT[text(class(wide-mb-text)):фио]`
**Дата рождения:** `INPUT[date:датаРождения]`
наличие больничного листа `INPUT[toggle(showcase):больничный]`
Родственник: (степень родства - Имя - телефон): `INPUT[text(showcase):родственник]`
### Диагноз
#### Основной диагноз 
```meta-bind-js-view
{ОД_мкб} as mkb
{ОД_дата} as oddate
{ОД_сторонаИнсульта} as insult
{ОД_инсульт_подтип} as insult_subtype
{ОД_бассейн} as bassein
{ОД_парезРука_05} as hand
{ОД_парезНога_05} as leg
{ОД_бульбарный_03} as bulbarScore
{ОД_нгз} as bulbarNgz
{ОД_трахеостома} as bulbarTracheo
{ОД_афазия_03} as aphasiaScore
{ОД_афазия} as aphasiaType
{ОД_дизартрия_03} as disartScore
{ОД_спастика_03} as spasticitySeverity
save to {result}
---
// Формирователь диагноза
const api = app.plugins.plugins['orit-plugin'].api;
const {textFromDVFieldbyLink} = api.oh;
const {tmpRender} = api.utils;
const tmp = textFromDVFieldbyLink(context.bound.mkb,"шаблон")
//console.log(context.bound.side)
const side = context.bound.insult ===  "справа"
	? {insult: "правой", parez: "слева"}
	: {insult: "левой", parez: "справа"}
const subtype = context.bound.insult_subtype;
// проверка на строку
let ins_subtype = "";
if (typeof subtype === "string" && subtype.trim() !== "") {
  // subtype задан
  ins_subtype = `, тип по TOAST:${subtype}`
}
 
// Утилиты
const toIntOrNull = (v) => (Number.isInteger(+v) ? +v : null);

const pushIf = (arr, s) => {
  const x = String(s ?? "").trim();
  if (x) arr.push(x);
};

const limbLevel = (v) =>
  !Number.isFinite(+v) ? null
  : +v === 0 ? "плегия"
  : +v > 3 ? `умеренный парез с силой ${+v} б.`
  : `глубокий парез - ${+v} б.`;

const complications = [];

const hand = limbLevel(context.bound.hand);
const leg  = limbLevel(context.bound.leg);

const parez =
  hand === null || leg === null
    ? ""
    : (hand === "плегия" && leg === "плегия")
      ? "гемиплегия"
      : (hand === leg)
        ? `гемипарез: ${hand}`
        : `гемипарез: в руке — ${hand}, в ноге — ${leg}`;
if(parez) complications.push(`${parez} ${side.parez}`);
// бульбарные нарушения
const bulbarText = (score, hasNgz, hasTracheo) => {
  const s = toIntOrNull(score);
  if (s === null || s === 0) return "";

  const level =
    s === 1 ? "умеренные"
    : s === 2 ? "выраженные"
    : "анартрия";

  const flags = [];
  if (hasNgz === true) flags.push("НГЗ");
  if (hasTracheo === true) flags.push("трахеостома");

  return flags.length
    ? `бульбарные нарушения: ${level} (имеется ${flags.join(", ")})`
    : `бульбарные нарушения: ${level}`;
};
// добавляем блок 
pushIf(complications, bulbarText(
  context.bound.bulbarScore,
  context.bound.bulbarNgz,
  context.bound.bulbarTracheo
));
// Афазия
const aphasiaText = (score, type) => {
  const s = toIntOrNull(score);
  if (s === null || s === 0) return "";

  const lvl =
    s === 1 ? "умеренная"
    : s === 2 ? "глубокая"
    : "тотальная";

  const t = String(type ?? "").trim(); // например: "моторная"
  return t
    ? `афазия: ${t}, ${lvl}`
    : `афазия: ${lvl}`;
};
pushIf(complications, aphasiaText(
  context.bound.aphasiaScore,
  context.bound.aphasiaType
));
// Дизартрия
const dysarthriaText = (severity) => {
  const s = toIntOrNull(severity);
  if (s === null || s === 0) return "";

  const lvl =
    s === 1 ? "умеренная"
    : s === 2 ? "глубокая"
    : "тотальная";

  return `дизартрия: ${lvl}`;
};
pushIf(complications, dysarthriaText(context.bound.disartScore));
// спастичность
const spasticityText = (severity) => {
  const s = toIntOrNull(severity);
  if (s === null || s === 0) return "";

  const lvl =
    s === 1 ? "умеренная"
    : s === 2 ? "глубокая"
    : "контрактура";

  return `спастичность: ${lvl}`;
};
pushIf(complications, spasticityText(context.bound.spasticitySeverity));
data = {
	дата: context.bound.oddate,
	сторона: side.insult,
	бассейн: context.bound.bassein,
	подтип: ins_subtype,
	осложнения: complications
}
ds = tmpRender(tmp, data)
//const data = "SSS"
//return engine.markdown.create(`**${context.bound.n1 * context.bound.n2}** km`);
return engine.markdown.create(`${ds}`);
```
##### Основной диагноз в выписке:
`INPUT[textArea(showcase, class(meta-bind-full-width), class(meta-bind-high)):ОД_текст]`
- bild
##### **Неврологический статус на момент выписки:**
`INPUT[textArea(showcase, class(meta-bind-full-width), class(meta-bind-high)):нейростатус_текст]`
##### **Главное**
Код основного заболевания: `INPUT[suggester(optionQuery("Справочники/Заболевания/Основные заболевания"), useLinks(true)):ОД_мкб]`
Дата заболевания: `INPUT[datePicker(showcase):ОД_дата]`
##### Характеристика заболевания
**Дата заболевания:** `INPUT[date:ОД_дата]`
- Сторона инсульта: `INPUT[inlineSelect(option(справа), option(слева), showcase):ОД_сторонаИнсульта]`
- Пораженный бассейн: `INPUT[inlineSelect(option(ПМА), option(СМА), option(ЗМА), option(ВБА), option(гемисфере), showcase):ОД_бассейн]`
```meta-bind-js-view
{ОД_мкб} as mkb
save to {ОД_инсульт_подтип}
---
const api = app.plugins.plugins['orit-plugin'].api;
const {textFromFMbyLink} = api.oh;
console.log("mkb", context.bound.mkb)
const subtype = textFromFMbyLink(context.bound.mkb,"подтип");
console.log("subtype", subtype)
// Универсально: массив ИЛИ строка "a, b, c"
const toArray = (v) => {
  if (Array.isArray(v)) return v.map(String).map(x => x.trim()).filter(Boolean);
  if (typeof v === "string") {
    const s = v.trim();
    if (!s) return [];
    return s.includes(",")
      ? s.split(",").map(x => x.trim()).filter(Boolean)
      : [s];
  }
  return [];
};
const items = toArray(subtype);

// если для данного диагноза нет доп. сведений — ничего не показываем
if (!items.length) return null;

// строим inlineSelect
const options = items.map(x => `option(${x})`).join(", ");
const str = `**Подтип инсульта**:\`INPUT[inlineSelect(${options}):ОД_инсульт_подтип]\``;

return engine.markdown.create(str);
```
- Глубина пареза
	- в руках: `INPUT[slider(addLabels, minValue(0), maxValue(5), stepSize(1), showcase):ОД_парезРука_05]`
    - в ногах: `INPUT[slider(addLabels, minValue(0), maxValue(5), stepSize(1), showcase):ОД_парезНога_05]`
- Бульбарные нарушения: по шкале 0-нет 1-умеренные 2-НГЗ 3-анартрия `INPUT[slider(addLabels, minValue(0), maxValue(3), stepSize(1), showcase):ОД_бульбарный_03]`
    - в документах наличие:
        - НГЗ: `INPUT[toggle(showcase):ОД_нгз]`
        - трахеостома: `INPUT[toggle(showcase):ОД_трахеостома]`
- Афазия:
	- наличие: `INPUT[inlineSelect(option(моторная), option(сенсорная), option(сенсомоторная), showcase):ОД_афазия]`
    - выраженность по шкале 0-нет 1-умеренная 2-глубокая 3-тотальная `INPUT[slider(addLabels, minValue(0), maxValue(3), stepSize(1), showcase):ОД_афазия_03]`
- Дизартрия
     - выраженность по шкале 0-нет 1-умеренная 2-глубокая 3-тотальная `INPUT[slider(addLabels, minValue(0), maxValue(3), stepSize(1), showcase):ОД_дизартрия_03]`
- Спастика
    - выраженность по шкале 0-нет 1-умеренная 2-глубокая 3-контрактура `INPUT[slider(addLabels, minValue(0), maxValue(3), stepSize(1), showcase):ОД_спастика_03]`
#### Сопутствующий диагноз 
##### Сопутствующий диагноз  из выписки:
`INPUT[textArea(showcase, class(meta-bind-full-width), class(meta-bind-high)):concomds_epicris]`
- bild
##### Типичная патология
###### Сердечно-сосудистая патология
1. Атеросклероз `INPUT[suggester(optionQuery('"Справочники/Заболевания/Сопутствующие/SSS/Атеросклероз"'), option(отсуствует)):cd_mkb_ateroscleroz]`
2. ПИКС `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]` 
3. Нарушения ритма `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
4. Сердечная недостаточность `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
###### Дыхательная патология
1. ХОБЛ `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
2. Бронхиальная астма `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
###### ЖКТ патология
1. Заболевание печени `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
2. Заболевания кишечника `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
###### Нефро патология
1. Нейрогенный мочевой пузырь 
    - степень нарушения: 0-нет 1-памперс 2-катетер 3-стома:  `INPUT[slider(addLabels, minValue(0), maxValue(3), stepSize(1), showcase):cd_nephro_pwr]`
    - в выписке наличие катетера, стомы: `INPUT[toggle(showcase):cв_nephro_cateter]`
2. Заболевания почек `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
###### Эндокринная патология
1. Сахарный диабет `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`
2. Щитовидная железа `INPUT[suggester(optionQuery('"Справочники/Синдромы/Афазия"'), option(отсуствует)):afazia]`

###### Прочие выявленные проблемы
1. Тромбоз глубоких вен  `INPUT[toggle(showcase):НГЗ]`
2. Психические нарушения `INPUT[toggle(showcase):НГЗ]`
3. Нарушение стула `INPUT[toggle(showcase):НГЗ]`

## Выполненные исследования

ss





`BUTTON[example-id]`

> [!PDF|] [[Матасов.pdf#page=1&selection=5,0,5,28|Матасов Евгений Анатольевич]]
> > Матасов Евгений Анатольевич
> 
> 