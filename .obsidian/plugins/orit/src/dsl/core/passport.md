# Паспорт системы (v0.1)
1. Назначение

Этот модуль — универсальное ядро обработки данных.
Он:
не знает предметной области;
не содержит бизнес- или доменной логики;
решает только задачи безопасной обработки данных и композиции вычислений.
Любая логика смысла (медицина, тексты, правила) находится вне ядра.

2. Единственный контейнер
В системе существует ровно один контейнер:
Result<T>

Он выражает результат любой операции.
Семантика:
    ok(value) — успешное вычисление;
    err(issues[]) — вычисление не удалось, ошибки накоплены.

Исключения никогда не пробрасываются наружу.

3. Модель ошибки (Issue)
Ошибки — это данные, а не исключения.
Минимальная структура:
    path? — где произошла проблема (опционально)
    code — тип ошибки (строка/enum)
    message — короткое объяснение
    meta? — произвольные детали (для отладки)

Ошибки накапливаются, а не останавливают выполнение.

4. Базовые кубики (минимум, который нельзя расширять без причины)

В ядре разрешены только 6 функций.
Конструкторы
- ok(value)   
    создаёт успешный Result
- err(issue | issues[])
    создаёт ошибочный Result

Композиция

- map(result, fn)
    применяет fn к значению, если ok
    ошибки пропускает дальше

- chain(result, fn)
    последовательность операций, где fn возвращает Result

- all(results[])
    собирает массив Result<T>
    если есть ошибки — возвращает err со всеми issues

Безопасное выполнение

- tryCatch(fn, issueFactory)
    втягивает исключение в Result
    используется только на границе с небезопасным кодом

5. Инварианты системы (обязательны)
Эти правила не обсуждаются при дальнейшей разработке:

- Ядро не знает предметной области.
- Ни одна функция ядра не бросает исключение.
- Ошибки — это данные, а не контроль потока.
- Композиция всегда возможна без if/else.
- Любое усложнение должно оправдываться реальной повторяемостью.

6. Что НЕ входит в ядро
Запрещено помещать в ядро:
- любые доменные названия;
- “умные” форматтеры;
- правила интерпретации значений;
- шкалы, уровни, классификации;
- интерпретаторы, DSL, пайплайны.

Если появляется сомнение — это не ядро.

7. Текущий статус (на сегодня)

Реализован: Result + 6 базовых функций.
Парсеры (string/int/bool) — не входят в текущую версию.
Валидаторы — отсутствуют.
Форматирование — отсутствует.

8. План роста (очень короткий)
Добавлять новое только при боли.
Следующие кандидаты (не сейчас):
- nonEmptyStringNullable
- intNullable
- boolish (мягкий)

Каждый добавляется по одному, с явным решением:
«Почему без этого стало неудобно».

9. Операционный протокол (как работать 1 час в день)
Каждая сессия начинается одинаково:
Открыть этот паспорт (1 минута).
Сформулировать одну микроцель (10–20 строк).
Работать только над ней.
В конце оставить комментарий // NEXT:.
Никаких “чуть-чуть ещё”.

10. Критерий успеха
Система считается успешной, если:
через неделю вы помните все кубики без подсказки;
код стал короче за счёт композиции, а не за счёт магии;
ядро не меняется неделями, а проект вокруг — развивается.